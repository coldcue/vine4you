/******************************************************************************
 * Copyright (c) 2013 by Andrew Szell (coldcue@gmail.com)                     *
 *                                                                            *
 * All rights reserved. No part of this code may be reproduced, distributed,  *
 * or transmitted in any form or by any means, including photocopying,        *
 * recording, or other electronic or mechanical methods, without the prior    *
 * written permission of the owner.                                           *
 ******************************************************************************/

$(document).ready(function () {
    App.video = videojs("vineVideo"), $("#videoInnerContainer").click(function () {
        App.toggle()
    }), FacebookLikeStuff.checkLike()
});
var App = {video: null, toggle: function () {
    this.video.paused() ? this.video.play() : this.video.pause()
}}, FacebookLikeStuff = {watchThreshold: 15, dialog: void 0, checkLike: function () {
    this.hasLiked() || this.incrementWatches() >= this.watchThreshold && (this.dialog = $.prompt('<div style=\'min-height: 300px; text-align: center;\'><div class="fb-like-box" data-href="https://www.facebook.com/vine4you" data-width="300" data-height="300" data-show-faces="true" data-header="false" data-stream="false" data-show-border="false"></div></div>', {title: "Please like us!", buttons: {"I've already liked it!": !0, Cancel: !1}, focus: 1, submit: function (e, t) {
        t ? FacebookLikeStuff.setLiked(!0) : FacebookLikeStuff.setWatches(-1 * FacebookLikeStuff.watchThreshold)
    }}))
}, closeDialog: function () {
    $.prompt.close()
}, hasLiked: function () {
    return!("true" !== $.cookie("liked"))
}, setLiked: function (e) {
    $.cookie("liked", e, {expires: 3650, path: "/"}), e && $.removeCookie("watches", {path: "/"})
}, getWatches: function () {
    var e = $.cookie("watches");
    return void 0 == e ? 0 : parseInt(e)
}, setWatches: function (e) {
    $.cookie("watches", e, {expires: 7, path: "/"})
}, incrementWatches: function () {
    var e = this.getWatches() + 1;
    return this.setWatches(e), e
}};